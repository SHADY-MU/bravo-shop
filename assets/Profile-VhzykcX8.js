import{r as a,a as u,c as v,j as e,N as f,e as p,f as b}from"./index-tgfWPoiy.js";const g="/bravo-shop/assets/avatar-CxXaZJ8h.jpeg",C=()=>{const{currentUser:s,loadingDisplayUserData:o}=a.useContext(u),{orders:i,cartIdes:n}=a.useContext(v),[m,x]=a.useState(),[j,h]=a.useState();a.useEffect(()=>{const l=Object.values(i).reduce((c,r)=>+c+ +r,0);x(l);const t=Object.values(n).reduce((c,r)=>+c+ +r,0);h(t)},[i,n]);const d=a.useMemo(()=>{if(!s)return e.jsx(f,{to:"/login"});const l=s.firstName||"",t=s.lastName||"";return`${l} ${t}`.trim()},[s]),N=a.useMemo(()=>{if(!s||!s.createdAt)return"";try{return(typeof s.createdAt?.toDate=="function"?s.createdAt.toDate():new Date(s.createdAt)).toLocaleDateString()}catch{return""}},[s]);return o?e.jsx(p,{page:b}):e.jsxs("div",{className:"Profile container my-5",children:[e.jsxs("h3",{className:"mx-auto fw-bolder text-uppercase h1 mb-5 text-center",children:["Your ",e.jsx("span",{style:{color:"var(--main-color)"},children:"Profile"})]}),e.jsxs("section",{className:"profile-card mx-auto",children:[e.jsx("div",{className:"profile-cover"}),e.jsxs("div",{className:"row gx-4 gy-4 profile-content",children:[e.jsx("div",{className:"col-12 col-md-4 text-center d-flex flex-col",children:e.jsxs("div",{className:"w-100 flex-col",children:[e.jsx("img",{src:g,alt:"Profile avatar",className:"profile-avatar mx-auto"}),e.jsx("h4",{className:"mt-3 mb-1 fw-bold text-uppercase",children:d||"User"}),e.jsx("p",{className:"text-muted mb-0 small",children:s?.email}),e.jsxs("div",{className:"profile-actions mt-4",children:[e.jsx("button",{className:"btn btn-dark me-2",children:"Edit Profile"}),e.jsx("button",{className:"btn btn-outline-dark",children:"Change Photo"})]})]})}),e.jsxs("div",{className:"col-12 col-md-8",children:[e.jsxs("div",{className:"profile-info",children:[e.jsxs("div",{className:"info-item d-flex justify-content-between align-items-center",children:[e.jsx("span",{className:"label",children:"Full Name"}),e.jsx("span",{className:"value",children:d||"-"})]}),e.jsxs("div",{className:"info-item d-flex justify-content-between align-items-center",children:[e.jsx("span",{className:"label",children:"Email"}),e.jsx("span",{className:"value",children:s?.email||"-"})]}),e.jsxs("div",{className:"info-item d-flex justify-content-between align-items-center",children:[e.jsx("span",{className:"label",children:"Member Since"}),e.jsx("span",{className:"value",children:N||"-"})]})]}),e.jsxs("div",{className:"row text-center g-3 mt-3",children:[e.jsx("div",{className:"col-6 col-lg-3",children:e.jsxs("div",{className:"profile-stat",children:[e.jsx("div",{className:"value",children:m}),e.jsx("div",{className:"label",children:"Orders"})]})}),e.jsx("div",{className:"col-6 col-lg-3",children:e.jsxs("div",{className:"profile-stat",children:[e.jsx("div",{className:"value",children:"—"}),e.jsx("div",{className:"label",children:"Wishlist"})]})}),e.jsx("div",{className:"col-6 col-lg-3",children:e.jsxs("div",{className:"profile-stat",children:[e.jsx("div",{className:"value",children:j}),e.jsx("div",{className:"label",children:"Cart"})]})}),e.jsx("div",{className:"col-6 col-lg-3",children:e.jsxs("div",{className:"profile-stat",children:[e.jsx("div",{className:"value",children:"—"}),e.jsx("div",{className:"label",children:"Coupons"})]})})]})]})]})]})]})};export{C as default};
