import{r as d,c as j,a as w,j as e,e as N,f as g,L as y}from"./index-C2leMN8C.js";const k=()=>{const{cartIdes:i,getProductsOfCart:l,records:h,isLoadingRecords:m,removeHandler:x,amountOnChange:u,placeholderHandler:p}=d.useContext(j),{currentUser:b}=d.useContext(w),r=h.map(t=>({...t,amount:i[t.id]})),f=r.reduce((t,s)=>{const n=s.discount??Math.ceil(Math.random()*30),o=(s.price-s.price*n/100).toFixed(0);return t+o*s.amount},0);return d.useEffect(()=>{l()},[i]),e.jsxs("div",{className:"Cart ",children:[e.jsxs("p",{className:"h1 fw-bold my-5 text-uppercase text-center border-bottom border-2 w-25 mx-auto py-2 border-black",children:[" Your ",e.jsx("span",{style:{color:"var(--main-color)"},children:"Cart"})]}),e.jsx("div",{className:"container my-4 py-5",children:e.jsxs("div",{className:"row g-2",children:[e.jsx("div",{className:"col-8 offset-2 mb-4",children:e.jsxs("div",{className:"flex justify-content-around py-3 rounded-4 bg-white shadow border border-2 border-black",children:[e.jsx("p",{className:"h4 fw-bolder",children:"Total Cart:"}),e.jsxs("p",{className:"h4 fw-bolder",children:["$",f]})]})}),m?e.jsx(N,{loadAnimation:g}):r.length!=0?r.map((t,s)=>{const n=Array(t.stock).fill(0).map((c,a)=>{});t.discount==null&&(t.discount=Math.ceil(Math.random()*30));const o=(t.price-t.price*t.discount/100).toFixed(0);return e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"flex justify-content-around bg-white px-2 py-3 rounded shadow ",children:[e.jsx("div",{children:e.jsx("img",{src:t.image,style:{width:"80px",height:"80px"},alt:"#"})}),e.jsx("div",{style:{width:"80px",overflow:"hidden"},children:e.jsx("p",{className:"m-0",children:t.title?.split(" ").slice(0,2).join(" ")})}),e.jsxs("div",{style:{width:"140px",overflow:"hidden"},children:[e.jsxs("p",{className:"m-0",children:["Price: $",o," "]}),e.jsxs("p",{className:"m-0 fw-bold",children:["TotalPrice: $",o*t.amount," "]})]}),e.jsx("div",{children:e.jsx("select",{className:"form-select",onChange:c=>u(c.target.value,t.id),defaultValue:t.amount,"aria-label":"Default select example",children:n.map((c,a)=>e.jsx("option",{value:a+1,children:a+1},a))})}),e.jsx("button",{onClick:()=>x(t.id),className:"btn btn-danger",children:"Remove from the cart"})]})},s)}):e.jsxs("div",{className:"flex-col gap-2",children:[e.jsx("h3",{className:"h1 text-danger text-center mx-auto w-50 fw-bolder border-bottom border-2 border-dark py-2",children:"There No Items at your Carts"}),e.jsx(y,{to:"/shop",className:"btn btnweb d-inline-block fs-5 border border-2 border-dark ",children:"How About Go to Shop"})]}),b&&r.length>0?e.jsx("button",{className:"btn btnweb btn-dark btn-lg w-50 mt-3 fw-bolder fst-italic fs-4 mx-auto",onClick:p,children:"Place Holder"}):null]})})]})};export{k as default};
